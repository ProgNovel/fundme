"use strict";var DEFAULT_CHANCE=5;function setPointerMultiple(e,n){setWebMonetizationPointer(pickPointer(e.map(function(e){if("string"==typeof e&&(e=convertToPointer(e)),!("address"in e))throw new Error(errors.addressNotFound);return stabilizeChance(e)})).address)}function convertToPointer(e){return{address:e,chance:DEFAULT_CHANCE}}var errors={addressNotFound:"Fundme.js: address not found not found.",chanceNotFound:"Fundme.js: entries .chance not found."};function isArray(e){return Array.isArray(e)}function setWebMonetizationPointer(e){var n=document.querySelector('meta[name="monetization"]');return n?n.content=e:((n=document.createElement("meta")).name="monetization",n.content=e,document.head.appendChild(n)),n}function stabilizeChance(e){return void 0!==e.chance&&NaN!==e.chance||(console.warn("Fundme.js: "+e.address+" has chance that is not a number. It has been set to 5 (default)."),e.chance=DEFAULT_CHANCE),e}function pickPointer(e){var n=e.map(function(e){return e.chance}),t=Object.values(n).reduce(function(e,n){return e+n},0),r=Math.random()*t;for(var o in e){if((r-=e[o].chance)<=0)return e[o]}}function setPointerSingle(e){setWebMonetizationPointer(e)}var defaultAddress=void 0;function fund(e,n){if(n.setDefault&&(defaultAddress=e),"string"==typeof e)setPointerSingle(e);else if(isArray(e))setPointerMultiple(e);else{if(void 0!==e)throw new Error("Fundme.js: Invalid Web Monetization API address given.");if(void 0===defaultAddress)throw new Error("Fundme.js: Web Monetization is not set, default default pointer as a fallback is not found.");fund(defaultAddress)}}module.exports=fund;
