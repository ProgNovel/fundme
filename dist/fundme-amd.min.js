define(["exports"],function(e){"use strict";function t(e){return function(e,t){e?e.content=t:e=function(e){const t=document.createElement("meta");return t.name="monetization",t.content=e,document.head.appendChild(t),t}(t);return e}(document.querySelector('meta[name="monetization"]'),e)}function n(e){t(e)}const r="Fundme.js: default address not found. Use setDefaultAddress(str: string) to set it first.",i="Fundme.js: Invalid Web Monetization pointer address is given.",o="Fundme.js: address not found.",s="Fundme.js: address must be a string.";const u=5;function d(e,n){t(function(e){const t=e.address;if(!t)throw new Error(o);if("string"!=typeof t)throw new Error(s);return t}(function(e){let t=function(e){return Math.random()*e}(function(e){const t=e.map(e=>e.weight);return Object.values(t).reduce((e,t)=>e+t,0)}(e));return function(e,t){for(const n in e)if((t-=e[n].weight)<=0)return e[n]}(e,t)}(function(e){return e.map(e=>{let t;if("string"==typeof e&&(e={address:e,weight:u}),!("address"in e))throw new Error(o);return t=function(e){void 0!==e.weight&&NaN!==e.weight||(console.warn(`Fundme.js: ${e.address} has weight that is not a number. It has been set to ${u} (default).`),e.weight=u);return e}(e)})}(e))))}let a;var f;!function(e){e.isSingle="single",e.isMultiple="multiple",e.isDefault="default",e.isFromTemplate="template",e.isUndefined="undefined"}(f||(f={})),e.fund=function(e,t){if("string"==typeof e){if("default"===e){if(void 0!==a)return"string"==typeof a?n(a):d(a),f.isDefault;throw new Error(r)}return n(e),f.isSingle}if(o=e,Array.isArray(o))return d(e),f.isMultiple;var o;if(void 0===e)return f.isFromTemplate;throw new Error(i)},e.setDefaultAddress=function(e){a=e},Object.defineProperty(e,"__esModule",{value:!0})});